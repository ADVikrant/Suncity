@model SunCity.DAL.TempMembershipReg

@{
    ViewBag.Title = "TempMembershipPlan";
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}
<link href="~/Content/MyUploadify/uploadify.css" rel="stylesheet" />

<div class="col-md-7">
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="panel-btns">
                <a href="" class="panel-minimize tooltips" data-toggle="tooltip" title="Minimize Panel"><i class="fa fa-minus"></i></a>
                @*<a href="" class="panel-close tooltips" data-toggle="tooltip" title="Close Panel"><i class="fa fa-times"></i></a>*@
            </div>
            <!-- panel-btns -->
            <h4 class="panel-title">Membership Registration</h4>
            <p>This form is used to add new members to our world.</p>
        </div>
        @using (Html.BeginForm("TempMembershipPlan", "Dashboard", FormMethod.Post, new { id = "FrmAddMemberRegistration", name = "FrmAddMemberRegistration" }))
        {  
            @Html.HiddenFor(x => x.TempMembershipRegistrationId)

            
        
            <div class="panel-body">
                <div class="alert alert-danger" id="divphnmsg" style="display: none;">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                    Please enter valid 10 digit mobile number.
               
                </div>
                <div class="alert alert-danger" id="divseniorage" style="display: none;">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                    Member age should be greater then or equal to 60.
                </div>
                <div class="errorForm"></div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label">Membership Plan</label>
                                @Html.DropDownListFor(x => x.TempPlanId, new SelectList(Model.templistMembershipPlan, "TempPlanId", "TempPlanName"), "Select Membership Plan", new { @class = "width250", @id = "MembershipPlanId", @required = "required", @title = "Select Membership Plan!" })
                            </div>
                        </div>
                        <!-- form-group -->
                    </div>
                    <!-- col-sm-6 -->
                    <div class="col-sm-5">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label">Package</label>
                                @Html.DropDownListFor(x => x.TempPackageId, new SelectList(Model.listPackages, "PackageId", "PackageName"), "Select Package", new { @class = "width250", @id = "PackageId", @required = "required", @title = "Select Package!" })
                            </div>
                        </div>
                        <!-- form-group -->
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="col-sm-9">
                            <div class="form-group">
                                <label class="control-label">Start Date</label>
                                <div class="input-group">
                                    @Html.TextBoxFor(x => x.TempStartDate, new { @class = "form-control", @placeholder = "yyyy-mm-dd", @required = "required", @title = "Select Membership Start Date!",@id="MembershipStartDate" })<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                </div>
                            </div>
                            <!-- input-group -->
                        </div>
                    </div>
                    <!-- col-sm-6 -->
                    <div class="col-sm-6">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label">Amount</label>
                                <input type="text" id="DAmount" name="DAmount" disabled="disabled" class = "form-control"/>
                                
                            </div>
                        </div>
                        <!-- form-group -->
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label">Documents</label>
                                <input type="hidden" name="hiddendocs" id="hiddendocs" />
                                <input type="file" name="membershipdocs" id="membershipdocs" class="form-control" required="required" title="Documents are required!" />
                            </div>
                            <!-- form-group -->
                        </div>

                    </div>
                </div>
                <div class="row" id="binddata">
                </div>
            </div>
            <div class="panel-footer">
                <button class="btn btn-primary" type="submit">Save</button>
                <input type="hidden" id="hiddendeleteflag" name="hiddendeleteflag" value="0" />
                @*<button class="btn btn-warning" type="submit" onclick="setDeleteFlag();">Delete</button>*@
                <input type="hidden" id="hiddencancelflag" name="hiddencancelflag" value="0" />
                @*<button class="btn btn-default" type="submit" onclick="setCancelFlag();">Cancel</button>*@
                <a href="@Url.Action("Index","Dashboard")" class="btn btn-default">Cancel</a>
                @*<input type="hidden" id="hiddencorporateflag" name="hiddencorporateflag" />
                <button class="btn btn-dark btn-sm" type="submit" onclick="setCorporateFlag();">Update Members</button>
                @if (Model.MembershipPlanId == Convert.ToInt32(SunCity.Core.Enum.MembershipPlan.Corporate_Plan))
                {

                }*@
            </div>
        }
    </div>

</div>
<script src="~/Content/js/jquery-1.11.1.min.js"></script>
<script src="~/Content/MyUploadify/jquery.uploadify-3.1.js"></script>
<script src="~/Content/MyUploadify/jquery.uploadify-3.1.min.js"></script>
<script>
    $(function () {
        var str = "";
        $('#membershipdocs').uploadify({
            'swf': '@Url.Content("~/Content/MyUploadify/uploadify.swf")',
            'uploader': '@Url.Action("StoreDocs", "Dashboard")',
            'fileTypeExts': '*.*',
            'auto': true,
            'multi': true,
            'removeCompleted': false,
            'clearQueue': true,
            'buttonText': 'Browse',
            'height': '24',
            'width': '90',
            'line-height': '21',
            'onUploadSuccess': function (file, data, response) {
                //$("#hiddendocs").val(data);

                str += data + ",";
                //console.log(str);
                $("#hiddendocs").val(str);
            },

            'onCancel': function (file) {
                alert('The upload of ' + file.name + ' has been canceled!');
            }
        });

    });
</script>
<script>
    
    $(document).ready(function () {
        jQuery("#MembershipPlanId,#PackageId").select2({ minimumResultsForSearch: -1 });
        jQuery('#MembershipStartDate').datepicker({
            dateFormat: "yy-mm-dd",
            changeMonth: true,
            changeYear: true
        });

        $("#MembershipPlanId").click(function () {
            var pid = $("#MembershipPlanId").select2("val"); //get the value
            //alert(pid);
            $.ajax({
                url: '@Url.Action("GetPlanHistory", "Dashboard")',
                data: {
                    planid: pid
                },
                type: 'GET'
            }).done(function (data) {
                $("#DAmount").val(data.TempAmount);
                
                //----------------------------Block for Main person starts here---------------------------------------------//
                $("#binddata").html("");
                var str = "";
                str += " <div class='panel-group' id='accordion2' style='display: block;'> ";
                var getusertypecout = data.Mapplanusertypelist.length;
                for (k = 0; k < getusertypecout; k++) {
                    if (data.Mapplanusertypelist[k].UserTypeId == 1) {
                        for (i = 0; i < data.Mapplanusertypelist[k].Usercount; i++) {


                            //Main div open
                            str += "<div class='panel panel-primary' id='Member_" + i + "' >";
                            str += "<div class='panel-heading' data-toggle='collapse' data-parent='#accordion2' href='#FormMember" + i + "' style='background-color: #2E424B; color: white;'>";
                            str += "<h4 class='panel-title'>      <a data-toggle='collapse' data-parent='#accordion2' href='#FormMember" + i + "'>Personal Detail </a></h4></div>";
                            //start of Form div
                            str += "<div id='FormMember" + i + "' class='panel-collapse collapse in'>";
                            str += "<div class='panel-body'>";
                            //First row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-4'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[0].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[0].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[0].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[0].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-4'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[1].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[1].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[1].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[1].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";
                            str += "<div class='col-sm-4'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[2].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[2].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[2].FieldName + "'  class='form-control' required='required' title='" + data.Mapfielduser[2].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            ////Closing of first row


                            ////Start of second row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'> <div class='col-sm-6'>    <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[3].FieldText + "</label>";
                            str += "<input type='hidden' name='mem_" + i + "_gen' id='mem_" + i + "_gen' />";
                            str += "<select id='mem_" + i + "_" + data.Mapfielduser[3].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[3].FieldName + "' onclick='getgendermember(mem_" + i + "_" + data.Mapfielduser[3].FieldName + ",mem_" + i + "_gen);'  data-placeholder='Choose One' class='width200'  required='required' title='Select '" + data.Mapfielduser[0].FieldText + "' !'>";
                            str += "<option value=''>Choose One</option> <option value='Male'>Male</option> <option value='Female'>Female</option> </select>";
                            str += "</div></div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[4].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[4].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[4].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[4].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            //End of second row

                            //Start of third row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[5].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[5].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[5].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[5].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[6].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[6].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[6].FieldName + "' class='form-control'  title='" + data.Mapfielduser[6].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            ////End of third row

                            ////Start of fourth row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[7].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[7].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[7].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[7].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[8].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[8].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[8].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[8].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            ////End of fourth row

                            ////Start of fifth row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[9].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[9].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[9].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[9].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[10].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[10].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[10].FieldName + "' class='form-control' title='" + data.Mapfielduser[10].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            ////End of fifth row

                            ////Start of sixth row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[11].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[11].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[11].FieldName + "' onchange='getdob(mem_" + i + "_" + data.Mapfielduser[11].FieldName + ");' class='form-control' required='required' title='" + data.Mapfielduser[11].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                           

                            str += "<div class='col-sm-4'> <div class='col-sm-6'>    <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[12].FieldText + "</label>";
                            str += "<input type='hidden' name='mem_" + i + "_mar' id='mem_" + i + "_mar' />";
                            str += "<select id='mem_" + i + "_" + data.Mapfielduser[12].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[12].FieldName + "' onclick='getmaritialmember(mem_" + i + "_" + data.Mapfielduser[12].FieldName + ",mem_" + i + "_mar);'  data-placeholder='Choose One' class='width200'  required='required' title='Select '" + data.Mapfielduser[0].FieldText + "'!'>";
                            str += "<option value=''>Choose One</option> <option value='Married'>Married</option> <option value='UnMarried'>UnMarried</option> </select>";
                            str += "</div></div></div></div>";
                          
                            //End of sixth row

                            //Start of seventh row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[13].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[13].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[13].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[13].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[14].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[14].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[14].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[14].FieldText + "' is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            //End of seventh row

                            //Start of eight row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[15].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[15].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[15].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[16].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[16].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[16].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            //End of eight row

                            //Start of nineth row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[17].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[17].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[17].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[18].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[18].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[18].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            //End of nineth row

                            //Adding Bussiness professional details
                            str += "<h4>Business / Professional / Service Details</h4>";

                            //

                            //Start of tenth row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[19].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[19].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[19].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[20].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[20].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[20].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            //End of tenth row

                            //Start of eleventh row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[21].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[21].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[21].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[22].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[22].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[22].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            //End of eleventh row

                            //Start of twelveth row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[23].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[23].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[23].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[24].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[24].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[24].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            //End of twelveth row

                            //Start of thirtenth row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[25].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[25].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[25].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[26].FieldText + "</label>";
                            str += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[26].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[26].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            //End of thirtenth row

                            //Start of fourteen row
                            str += "<div class='row'>                                            <div class='col-sm-12'>";
                            str += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>Photo</label>";
                            str += "<input type='hidden' name='hiddenmem" + i + "photo' id='hiddenmem" + i + "photo' />";
                            str += "<input type='text' name='mem_" + i + "_photo' id='mem_" + i + "_photo' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            str += "</div></div>";

                            str += "</div></div>";
                            //End of fourteen row

                            str += "</div></div>";
                            //Main div closed
                            str += "</div>";


                        }
                    }
                }

                str += "</div>";
                //console.log(str);

                $("#binddata").html(str);
                for (k = 0; k < getusertypecout; k++) {
                    if (data.Mapplanusertypelist[k].UserTypeId == 1) {
                        for (i = 0; i < data.Mapplanusertypelist[k].Usercount; i++) {
                            var getmapfieldcount = data.Mapfielduser.length;
                            for (l = 0; l < getmapfieldcount; l++) {
                                
                                if (data.Mapfielduser[l].FieldType == "select") {
                                    jQuery("#mem_" + i + "_" + data.Mapfielduser[l].FieldName).select2({ allowClear: true });
                                }
                                if (data.Mapfielduser[l].FieldText == "Date of Birth" || data.Mapfielduser[l].FieldText == "Marriage Date") {
                                    jQuery("#mem_" + i + "_" + data.Mapfielduser[l].FieldName).datepicker({
                                        dateFormat: "yy-mm-dd",
                                        changeMonth: true,
                                        changeYear: true
                                    });
                                }
                                
                            }
                            adduploader(i);
                            
                        }
                    }
                }

                //----------------------------Block for Main person ends here---------------------------------------------//

                //----------------------------Block for Spouse starts here---------------------------------------------//

                var strspouse = "";
                strspouse += " <div class='panel-group' id='accordion3' style='display: block;'> ";
                var getusertypecout = data.Mapplanusertypelist.length;
                for (k = 0; k < getusertypecout; k++) {
                    if (data.Mapplanusertypelist[k].UserTypeId == 2) {
                        for (i = 0; i < data.Mapplanusertypelist[k].Usercount; i++) {
                            //Main div open
                            strspouse += "<div class='panel panel-primary' id='Member_" + i + "' >";
                            strspouse += "<div class='panel-heading' data-toggle='collapse' data-parent='#accordion3' href='#SFormMember" + i + "' style='background-color: #2E424B; color: white;'>";
                            strspouse += "<h4 class='panel-title'>      <a data-toggle='collapse' data-parent='#accordion3' href='#SFormMember" + i + "'>Spouse Detail </a></h4></div>";
                            //start of Form div
                            strspouse += "<div id='SFormMember" + i + "' class='panel-collapse collapse in'>";
                            strspouse += "<div class='panel-body'>";
                            //First row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-4'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[27].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[27].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[27].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-4'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[28].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[28].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[28].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";
                            strspouse += "<div class='col-sm-4'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[29].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[29].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[29].FieldName + "'  class='form-control' required='required' title='Memeber#1 Middle name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //Closing of first row

                            //Start of second row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[30].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[30].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[30].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[31].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[31].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[31].FieldName + "' onchange='getdob(smem_" + i + "_" + data.Mapfielduser[31].FieldName + ");' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of second row

                            //Start of third row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[32].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[32].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[32].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[33].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[33].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[33].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of third row

                            //Start of fourth row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[40].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[40].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[40].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[34].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[34].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[34].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of fourth row

                            //Start of fourth row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[35].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[35].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[35].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";




                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[36].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[36].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[36].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";
                            strspouse += "</div></div>";

                            //End of fourth row

                            //Start of fifth row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[37].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[37].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[37].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";




                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[41].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[41].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[41].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of fifth row

                            //Start of sixth row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[39].FieldText + "</label>";
                            strspouse += "<input type='text' name='smem_" + i + "_" + data.Mapfielduser[39].FieldName + "' id='smem_" + i + "_" + data.Mapfielduser[39].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";




                            //strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[39].FieldText + "</label>";
                            //strspouse += "<input type='text' name='mem_" + i + "_" + data.Mapfielduser[39].FieldName + "' id='mem_" + i + "_" + data.Mapfielduser[39].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            //strspouse += "</div></div>";
                            strspouse += "</div>";

                            //End of fifth row

                            //Start of sixth row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>Photo</label>";
                            strspouse += "<input type='hidden' name='shiddenmem" + i + "photo' id='shiddenmem" + i + "photo' />";
                            strspouse += "<input type='text' name='smem_" + i + "_photo' id='smem_" + i + "_photo' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of sixth row

                            strspouse += "</div></div>";
                            //Main div closed
                            strspouse += "</div>";
                        }
                    }
                }

                strspouse += "</div>";

                $("#binddata").append(strspouse);
                for (k = 0; k < getusertypecout; k++) {
                    if (data.Mapplanusertypelist[k].UserTypeId == 2) {
                        for (i = 0; i < data.Mapplanusertypelist[k].Usercount; i++) {
                            var getmapfieldcount = data.Mapfielduser.length;
                            for (l = 0; l < getmapfieldcount; l++) {

                               
                                if (data.Mapfielduser[l].FieldText == "Date of Birth" || data.Mapfielduser[l].FieldText == "Marriage Date") {
                                    jQuery("#smem_" + i + "_" + data.Mapfielduser[l].FieldName).datepicker({
                                        dateFormat: "yy-mm-dd",
                                        changeMonth: true,
                                        changeYear: true
                                    });
                                }

                            }
                            sadduploader(i);
                        }
                    }
                }

                //----------------------------Block for Spouse ends here---------------------------------------------//

                //----------------------------Block for Child starts here---------------------------------------------//

                var strspouse = "";
                strspouse += " <div class='panel-group' id='accordion4' style='display: block;'> ";
                var getusertypecout = data.Mapplanusertypelist.length;
                for (k = 0; k < getusertypecout; k++) {
                    if (data.Mapplanusertypelist[k].UserTypeId == 3) {
                        for (i = 0; i < data.Mapplanusertypelist[k].Usercount; i++) {
                            //Main div open
                            strspouse += "<div class='panel panel-primary' id='Member_" + i + "' >";
                            strspouse += "<div class='panel-heading' data-toggle='collapse' data-parent='#accordion4' href='#CFormMember" + i + "' style='background-color: #2E424B; color: white;'>";
                            strspouse += "<h4 class='panel-title'>      <a data-toggle='collapse' data-parent='#accordion4' href='#CFormMember" + i + "'>Child Detail </a></h4></div>";
                            //start of Form div
                            strspouse += "<div id='CFormMember" + i + "' class='panel-collapse collapse in'>";
                            strspouse += "<div class='panel-body'>";
                            //First row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-4'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[41].FieldText + "</label>";
                            strspouse += "<input type='text' name='cmem_" + i + "_" + data.Mapfielduser[41].FieldName + "' id='cmem_" + i + "_" + data.Mapfielduser[41].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-4'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[42].FieldText + "</label>";
                            strspouse += "<input type='text' name='cmem_" + i + "_" + data.Mapfielduser[42].FieldName + "' id='cmem_" + i + "_" + data.Mapfielduser[42].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-4'> <div class='col-sm-4'>    <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[43].FieldText + "</label>";
                            strspouse += "<input type='hidden' name='cmem_" + i + "_gen' id='cmem_" + i + "_gen' />";
                            strspouse += "<select id='cmem_" + i + "_" + data.Mapfielduser[43].FieldName + "' id='cmem_" + i + "_" + data.Mapfielduser[43].FieldName + "' onclick='getmaritialmember(cmem_" + i + "_" + data.Mapfielduser[44].FieldName + ",cmem_" + i + "_gen);'  data-placeholder='Choose One' class='width200'  required='required' title='Select Member#2 Gender!'>";
                            strspouse += "<option value=''>Choose One</option> <option value='Male'>Male</option> <option value='Female'>Female</option> </select>";
                            strspouse += "</div></div></div>";

                            strspouse += "</div></div>";
                            //Closing of first row

                            //Start of second row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[44].FieldText + "</label>";
                            strspouse += "<input type='text' onchange='getchilddob(cmem_" + i + "_" + data.Mapfielduser[44].FieldName + ");' name='cmem_" + i + "_" + data.Mapfielduser[44].FieldName + "' id='cmem_" + i + "_" + data.Mapfielduser[45].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[45].FieldText + "</label>";
                            strspouse += "<input type='text' name='cmem_" + i + "_" + data.Mapfielduser[45].FieldName + "' id='cmem_" + i + "_" + data.Mapfielduser[45].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of second row

                            //Start of third row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[46].FieldText + "</label>";
                            strspouse += "<input type='text' name='cmem_" + i + "_" + data.Mapfielduser[46].FieldName + "' id='cmem_" + i + "_" + data.Mapfielduser[46].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[47].FieldText + "</label>";
                            strspouse += "<input type='text' name='cmem_" + i + "_" + data.Mapfielduser[47].FieldName + "' id='cmem_" + i + "_" + data.Mapfielduser[47].FieldName + "' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of third row

                            //Start of fourteen row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>Photo</label>";
                            strspouse += "<input type='hidden' name='chiddenmem" + i + "photo' id='chiddenmem" + i + "photo' />";
                            strspouse += "<input type='text' name='cmem_" + i + "_photo' id='cmem_" + i + "_photo' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of fourteen row

                            strspouse += "</div></div>";
                            //Main div closed
                            strspouse += "</div>";
                        }
                    }
                }

                strspouse += "</div>";

                $("#binddata").append(strspouse);

                for (k = 0; k < getusertypecout; k++) {
                    if (data.Mapplanusertypelist[k].UserTypeId == 3) {
                        for (i = 0; i < data.Mapplanusertypelist[k].Usercount; i++) {
                            var getmapfieldcount = data.Mapfielduser.length;
                            for (l = 0; l < getmapfieldcount; l++) {
                                //if (data.Mapfielduser[3].FieldType == "select") {
                                //    jQuery("#mem_" + i + "_" + data.Mapfielduser[3].FieldName).select2({ allowClear: true });
                                //}
                                //if (data.Mapfielduser[12].FieldType == "select") {
                                //    jQuery("#mem_" + i + "_" + data.Mapfielduser[12].FieldName).select2({ allowClear: true });
                                //}
                                if (data.Mapfielduser[l].FieldType == "select" && data.Mapfielduser[l].UserTypeId == 3) {
                                    jQuery("#cmem_" + i + "_" + data.Mapfielduser[l].FieldName).select2({ allowClear: true });
                                }

                                if (data.Mapfielduser[l].FieldText == "Date of Birth" ) {
                                    jQuery("#cmem_" + i + "_" + data.Mapfielduser[l].FieldName).datepicker({
                                        dateFormat: "yy-mm-dd",
                                        changeMonth: true,
                                        changeYear: true
                                    });
                                }

                            }
                            cadduploader(i);
                        }
                    }
                }
                //----------------------------Block for Child ends here---------------------------------------------//

                //----------------------------Block for Senior starts here---------------------------------------------//

                var strspouse = "";
                strspouse += " <div class='panel-group' id='accordion5' style='display: block;'> ";
                var getusertypecout = data.Mapplanusertypelist.length;
                for (k = 0; k < getusertypecout; k++) {
                    if (data.Mapplanusertypelist[k].UserTypeId == 4) {
                        for (i = 0; i < data.Mapplanusertypelist[k].Usercount; i++) {
                            //Main div open
                            strspouse += "<div class='panel panel-primary' id='Member_" + i + "' >";
                            strspouse += "<div class='panel-heading' data-toggle='collapse' data-parent='#accordion5' href='#SeFormMember" + i + "' style='background-color: #2E424B; color: white;'>";
                            strspouse += "<h4 class='panel-title'>      <a data-toggle='collapse' data-parent='#accordion5' href='#SeFormMember" + i + "'>Senior Detail </a></h4></div>";
                            //start of Form div
                            strspouse += "<div id='SeFormMember" + i + "' class='panel-collapse collapse in'>";
                            strspouse += "<div class='panel-body'>";
                            

                            //Start of second row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[48].FieldText + "</label>";
                            strspouse += "<input type='text'  name='cmem_" + i + "_" + data.Mapfielduser[48].FieldName + "' id='cmem_" + i + "_" + data.Mapfielduser[48].FieldName + "' class='form-control'  title='"+ data.Mapfielduser[48].FieldText + "' is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[49].FieldText + "</label>";
                            strspouse += "<input type='text' name='semem_" + i + "_" + data.Mapfielduser[49].FieldName + "' id='semem_" + i + "_" + data.Mapfielduser[49].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[49].FieldText + "' is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of second row

                            //Start of third row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[50].FieldText + "</label>";
                            strspouse += "<input type='text' name='semem_" + i + "_" + data.Mapfielduser[50].FieldName + "' id='semem_" + i + "_" + data.Mapfielduser[50].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[50].FieldText + "' is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "<div class='col-sm-6'>     <div class='form-group'> <label class='control-label'>" + data.Mapfielduser[51].FieldText + "</label>";
                            strspouse += "<input type='text' onchange='getseniordob(semem_" + i + "_" + data.Mapfielduser[51].FieldName + ");' name='semem_" + i + "_" + data.Mapfielduser[51].FieldName + "' id='semem_" + i + "_" + data.Mapfielduser[51].FieldName + "' class='form-control' required='required' title='" + data.Mapfielduser[51].FieldText + "' is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of third row

                            //Start of fourteen row
                            strspouse += "<div class='row'>                                            <div class='col-sm-12'>";
                            strspouse += "<div class='col-sm-6'>   <div class='form-group'> <label class='control-label'>Photo</label>";
                            strspouse += "<input type='hidden' name='seniormem" + i + "photo' id='seniormem" + i + "photo' />";
                            strspouse += "<input type='text' name='semem_" + i + "_photo' id='semem_" + i + "_photo' class='form-control' required='required' title='Memeber#1 First name is required!' maxlength='25' />";
                            strspouse += "</div></div>";

                            strspouse += "</div></div>";
                            //End of fourteen row

                            strspouse += "</div></div>";
                            //Main div closed
                            strspouse += "</div>";
                        }
                    }
                }

                strspouse += "</div>";

                $("#binddata").append(strspouse);

                for (k = 0; k < getusertypecout; k++) {
                    if (data.Mapplanusertypelist[k].UserTypeId == 4) {
                        for (i = 0; i < data.Mapplanusertypelist[k].Usercount; i++) {
                            var getmapfieldcount = data.Mapfielduser.length;
                            for (l = 0; l < getmapfieldcount; l++) {
                                //if (data.Mapfielduser[3].FieldType == "select") {
                                //    jQuery("#mem_" + i + "_" + data.Mapfielduser[3].FieldName).select2({ allowClear: true });
                                //}
                                //if (data.Mapfielduser[12].FieldType == "select") {
                                //    jQuery("#mem_" + i + "_" + data.Mapfielduser[12].FieldName).select2({ allowClear: true });
                                //}
                                

                                if (data.Mapfielduser[l].FieldText == "Date of Birth") {
                                    jQuery("#semem_" + i + "_" + data.Mapfielduser[l].FieldName).datepicker({
                                        dateFormat: "yy-mm-dd",
                                        changeMonth: true,
                                        changeYear: true
                                    });
                                }

                            }
                            senioradduploader(i);
                        }
                    }
                }
                //----------------------------Block for Senior ends here---------------------------------------------//
            });
        });
    });

    var parent1check = 0;
    function getgendermember(idname, hiddenname) {
        //alert(idname['id']);
        //alert(hiddenname);
        var idn = "#" + idname['id'] + "";
        var hdn = "#" + hiddenname['id'] + "";
        var gen = $(idn).select2("val"); //get the value
        $(hdn).val(gen);
        //alert($(hdn).val());
    }

    function getchilddob(dtdob)
    {
        var child1date = $("#" + dtdob['id']).datepicker('getDate'), day = child1date.getDate(), month = child1date.getMonth(), year = child1date.getFullYear();
        todayDate = new Date();
        todayYear = todayDate.getFullYear();
        todayMonth = todayDate.getMonth();
        todayDay = todayDate.getDate();
        age = todayYear - year;
        //alert(age);
        if (age <= 18) {
            parent1check = 1;
        }
        else {
            alert("Member age should be <=18");
            return false;
        }
    }

    function getdob(dtdob)
    {
        //var selected = $("#" + dtdob).val();
        //Check for  above 18
        var child1date = $("#" + dtdob['id']).datepicker('getDate'), day = child1date.getDate(), month = child1date.getMonth(), year = child1date.getFullYear();
        todayDate = new Date();
        todayYear = todayDate.getFullYear();
        todayMonth = todayDate.getMonth();
        todayDay = todayDate.getDate();
        age = todayYear - year;
        //alert(age);
        if (age >= 18) {
            parent1check = 1;
        }
        else {
            alert("Member age should be >=18");
            return false;
        }
    }

    function getmaritialmember(maridname, hiddermaridname)
    {
        var sidn = "#" + maridname['id'] + "";
        var shdn = "#" + hiddermaridname['id'] + "";
        var sgen = $(sidn).select2("val"); //get the value
        $(shdn).val(sgen);
        //alert($(shdn).val());
    }

    function getchildgender(chiidname, hidderchiidname) {
        var cidn = "#" + chiidname['id'] + "";
        var chdn = "#" + hidderchiidname['id'] + "";
        var cgen = $(cidn).select2("val"); //get the value
        $(chdn).val(cgen);
        alert($(chdn).val());
    }
    function adduploader(id)
    {
        $('#mem_' + id + '_photo').uploadify({
            'swf': '@Url.Content("~/Content/MyUploadify/uploadify.swf")',
            'uploader': '@Url.Action("StoreImage", "Dashboard")',
            'fileTypeDesc': 'Image Files',
            'fileTypeExts': '*.jpg; *.png;*.jpeg;*.pdf',
            'auto': true,
            'removeCompleted': false,
            'clearQueue': true,
            'buttonText': 'Browse',
            'height': '24',
            'width': '90',
            'line-height': '21',
            'onUploadSuccess': function (file, uploaddata, response) {
                var vb = 'hiddenmem' + id + 'photo';
                $('#'+vb).val(uploaddata);
                //console.log(data);
                alert($('#' + vb).val());
                //alert($('#hiddenmem' + id + 'photo').val());
            },

            'onCancel': function (file) {
                alert('The upload of ' + file.name + ' has been canceled!');
            }
        });

    }
    function sadduploader(id) {
        $('#smem_' + id + '_photo').uploadify({
            'swf': '@Url.Content("~/Content/MyUploadify/uploadify.swf")',
            'uploader': '@Url.Action("StoreImage", "Dashboard")',
            'fileTypeDesc': 'Image Files',
            'fileTypeExts': '*.jpg; *.png;*.jpeg;*.pdf',
            'auto': true,
            'removeCompleted': false,
            'clearQueue': true,
            'buttonText': 'Browse',
            'height': '24',
            'width': '90',
            'line-height': '21',
            'onUploadSuccess': function (file, uploaddata, response) {
                var vb = 'shiddenmem' + id + 'photo';
                $('#' + vb).val(uploaddata);
                //console.log(data);
                alert($('#' + vb).val());
                //alert($('#hiddenmem' + id + 'photo').val());
            },

            'onCancel': function (file) {
                alert('The upload of ' + file.name + ' has been canceled!');
            }
        });

    }
    function cadduploader(id) {
        $('#cmem_' + id + '_photo').uploadify({
            'swf': '@Url.Content("~/Content/MyUploadify/uploadify.swf")',
            'uploader': '@Url.Action("StoreImage", "Dashboard")',
            'fileTypeDesc': 'Image Files',
            'fileTypeExts': '*.jpg; *.png;*.jpeg;*.pdf',
            'auto': true,
            'removeCompleted': false,
            'clearQueue': true,
            'buttonText': 'Browse',
            'height': '24',
            'width': '90',
            'line-height': '21',
            'onUploadSuccess': function (file, uploaddata, response) {
                var vb = 'chiddenmem' + id + 'photo';
                $('#' + vb).val(uploaddata);
                //console.log(data);
                alert($('#' + vb).val());
                //alert($('#hiddenmem' + id + 'photo').val());
            },

            'onCancel': function (file) {
                alert('The upload of ' + file.name + ' has been canceled!');
            }
        });

    }
    function senioradduploader(id) {
        $('#semem_' + id + '_photo').uploadify({
            'swf': '@Url.Content("~/Content/MyUploadify/uploadify.swf")',
            'uploader': '@Url.Action("StoreImage", "Dashboard")',
            'fileTypeDesc': 'Image Files',
            'fileTypeExts': '*.jpg; *.png;*.jpeg;*.pdf',
            'auto': true,
            'removeCompleted': false,
            'clearQueue': true,
            'buttonText': 'Browse',
            'height': '24',
            'width': '90',
            'line-height': '21',
            'onUploadSuccess': function (file, uploaddata, response) {
                var vb = 'seniormem' + id + 'photo';
                $('#' + vb).val(uploaddata);
                //console.log(data);
                alert($('#' + vb).val());
                //alert($('#hiddenmem' + id + 'photo').val());
            },

            'onCancel': function (file) {
                alert('The upload of ' + file.name + ' has been canceled!');
            }
        });

    }
    function getseniordob(dtdob) {
        //var selected = $("#" + dtdob).val();
        //Check for  above 18
        var child1date = $("#" + dtdob['id']).datepicker('getDate'), day = child1date.getDate(), month = child1date.getMonth(), year = child1date.getFullYear();
        todayDate = new Date();
        todayYear = todayDate.getFullYear();
        todayMonth = todayDate.getMonth();
        todayDay = todayDate.getDate();
        age = todayYear - year;
        //alert(age);
        if (age >= 60) {
            $("#divseniorage").hide();
        }
        else {
            $("#divseniorage").show();
            return false;
        }
    }
</script>
